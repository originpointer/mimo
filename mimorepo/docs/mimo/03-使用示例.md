# Mimo ä½¿ç”¨ç¤ºä¾‹

## ç›®å½•

- [åŸºç¡€ç¤ºä¾‹](#åŸºç¡€ç¤ºä¾‹)
- [ç½‘é¡µæ“ä½œ](#ç½‘é¡µæ“ä½œ)
- [æ•°æ®æå–](#æ•°æ®æå–)
- [Agent è‡ªåŠ¨åŒ–](#agent-è‡ªåŠ¨åŒ–)
- [è¡¨å•å¤„ç†](#è¡¨å•å¤„ç†)
- [å¤šé¡µé¢æ“ä½œ](#å¤šé¡µé¢æ“ä½œ)
- [äº‹ä»¶å¤„ç†](#äº‹ä»¶å¤„ç†)
- [é”™è¯¯å¤„ç†](#é”™è¯¯å¤„ç†)
- [å®é™…åº”ç”¨åœºæ™¯](#å®é™…åº”ç”¨åœºæ™¯)

---

## åŸºç¡€ç¤ºä¾‹

### ç®€å•ç½‘é¡µå¯¼èˆª

```typescript
import { Mimo } from '@mimo/lib/core';

const mimo = new Mimo({
  socket: { url: 'ws://localhost:3000' },
});

await mimo.init();

// å¯¼èˆªåˆ°ç½‘é¡µ
await mimo.page.goto('https://example.com');

console.log('å¯¼èˆªæˆåŠŸï¼');
await mimo.close();
```

### ç‚¹å‡»å…ƒç´ 

```typescript
await mimo.init();

// å¯¼èˆªåˆ°ç½‘é¡µ
await mimo.page.goto('https://example.com');

// ä½¿ç”¨ act ç‚¹å‡»æŒ‰é’®
await mimo.act('ç‚¹å‡»ç™»å½•æŒ‰é’®');

// æˆ–ä½¿ç”¨ RemotePage ç›´æ¥ç‚¹å‡»
await mimo.page.click('#login-button');

await mimo.close();
```

### è¾“å…¥æ–‡æœ¬

```typescript
await mimo.init();

await mimo.page.goto('https://example.com/login');

// ä½¿ç”¨ act å¡«å†™è¡¨å•
await mimo.act('åœ¨ç”¨æˆ·åè¾“å…¥æ¡†è¾“å…¥ alice');

// æˆ–ä½¿ç”¨ RemotePage ç›´æ¥å¡«å†™
await mimo.page.fill('#username', 'alice');
await mimo.page.fill('#password', 'secret123');

await mimo.close();
```

---

## ç½‘é¡µæ“ä½œ

### æˆªå›¾

```typescript
await mimo.init();

await mimo.page.goto('https://example.com');

// æˆªå–å¯è§†åŒºåŸŸ
const screenshot = await mimo.page.screenshot();
// ä¿å­˜åˆ°æ–‡ä»¶
import fs from 'fs';
fs.writeFileSync('screenshot.png', screenshot);

// æˆªå–æ•´ä¸ªé¡µé¢
const fullPage = await mimo.page.screenshot({ fullPage: true });

// è£å‰ªæˆªå›¾
const clipped = await mimo.page.screenshot({
  clip: { x: 0, y: 0, width: 800, height: 600 }
});

await mimo.close();
```

### ç­‰å¾…å…ƒç´ 

```typescript
await mimo.init();

await mimo.page.goto('https://example.com');

// act ä¼šè‡ªåŠ¨ç­‰å¾…å…ƒç´ 
await mimo.act('ç­‰å¾…åŠ è½½å®Œæˆï¼Œç„¶åç‚¹å‡»æŒ‰é’®');

// æˆ–ä½¿ç”¨ RemoteLocator
const button = mimo.page.locator('.dynamic-button');
await button.click(); // è‡ªåŠ¨ç­‰å¾…å…ƒç´ å‡ºç°

await mimo.close();
```

### æ‰§è¡Œ JavaScript

```typescript
await mimo.init();

await mimo.page.goto('https://example.com');

// è·å–é¡µé¢æ ‡é¢˜
const title = await mimo.page.evaluate(() => document.title);
console.log('é¡µé¢æ ‡é¢˜:', title);

// è·å–æ‰€æœ‰é“¾æ¥
const links = await mimo.page.evaluate(() => {
  return Array.from(document.querySelectorAll('a'))
    .map(a => ({ text: a.textContent, href: a.href }));
});
console.log('æ‰€æœ‰é“¾æ¥:', links);

// ä¿®æ”¹é¡µé¢å†…å®¹
await mimo.page.evaluate(() => {
  document.body.style.backgroundColor = 'lightblue';
});

await mimo.close();
```

---

## æ•°æ®æå–

### æå–å•ä¸ªå€¼

```typescript
await mimo.init();

await mimo.page.goto('https://example.com/product');

// æå–å•†å“ä»·æ ¼
const priceResult = await mimo.extract('è·å–å•†å“ä»·æ ¼');
console.log('ä»·æ ¼:', priceResult.extraction);
// è¾“å‡º: ä»·æ ¼: Â¥299.00

// æå–å•†å“æ ‡é¢˜
const titleResult = await mimo.extract('è·å–å•†å“æ ‡é¢˜');
console.log('æ ‡é¢˜:', titleResult.extraction);

await mimo.close();
```

### æå–ç»“æ„åŒ–æ•°æ®

```typescript
import { z } from 'zod';

await mimo.init();

await mimo.page.goto('https://example.com/product');

// å®šä¹‰æ•°æ®ç»“æ„
const productSchema = z.object({
  name: z.string(),
  price: z.string(),
  rating: z.string().optional(),
  description: z.string(),
});

// æå–æ•°æ®
const productResult = await mimo.extract('è·å–å•†å“è¯¦ç»†ä¿¡æ¯', productSchema);
console.log('å•†å“ä¿¡æ¯:', productResult.extraction);
// è¾“å‡º:
// å•†å“ä¿¡æ¯: {
//   name: "iPhone 15 Pro",
//   price: "Â¥7999",
//   rating: "4.8",
//   description: "é’›é‡‘å±è¾¹æ¡†ï¼ŒA17 Pro èŠ¯ç‰‡"
// }

await mimo.close();
```

### æå–åˆ—è¡¨æ•°æ®

```typescript
import { z } from 'zod';

await mimo.init();

await mimo.page.goto('https://example.com/products');

// å®šä¹‰åˆ—è¡¨é¡¹ç»“æ„
const productItemSchema = z.object({
  name: z.string(),
  price: z.string(),
  url: z.string(),
});

const productListSchema = z.object({
  products: z.array(productItemSchema),
  totalCount: z.number(),
});

// æå–å•†å“åˆ—è¡¨
const listResult = await mimo.extract(
  'è·å–é¡µé¢ä¸Šçš„æ‰€æœ‰å•†å“ä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€ä»·æ ¼å’Œé“¾æ¥',
  productListSchema
);

console.log('æ‰¾åˆ°', listResult.extraction.totalCount, 'ä¸ªå•†å“');
listResult.extraction.products.forEach(product => {
  console.log(`- ${product.name}: ${product.price}`);
});

await mimo.close();
```

### ä»æŒ‡å®šåŒºåŸŸæå–

```typescript
await mimo.init();

await mimo.page.goto('https://example.com');

// åªä»æŒ‡å®šåŒºåŸŸæå–
const commentResult = await mimo.extract(
  'è·å–è¿™ç¯‡æ–‡ç« çš„è¯„è®ºæ•°é‡',
  undefined,
  { selector: '.article-comments' }
);

console.log('è¯„è®ºæ•°:', commentResult.extraction);

await mimo.close();
```

---

## Agent è‡ªåŠ¨åŒ–

### ç®€å•ä»»åŠ¡

```typescript
await mimo.init();

const agent = mimo.agent({
  model: 'openai/gpt-4o-mini',
  maxSteps: 10,
});

// æ‰§è¡Œç®€å•æœç´¢ä»»åŠ¡
const result = await agent.execute({
  instruction: 'åœ¨ Google ä¸Šæœç´¢ "Mimo æµè§ˆå™¨è‡ªåŠ¨åŒ–"',
});

console.log('ä»»åŠ¡å®Œæˆ:', result.completed);
console.log('æ‰§è¡Œæ­¥éª¤:', result.actions.length);
console.log('Token ä½¿ç”¨:', result.usage);

await mimo.close();
```

### å¤šæ­¥éª¤è´­ç‰©æµç¨‹

```typescript
await mimo.init();

const agent = mimo.agent({
  model: 'openai/gpt-4o-mini',
  maxSteps: 25,
});

// å®Œæ•´è´­ç‰©æµç¨‹
const result = await agent.execute({
  instruction: `
    åœ¨äº¬ä¸œä¸Šæœç´¢ "iPhone 15 Pro 256G"ï¼Œ
    æ‰¾åˆ°ä»·æ ¼æœ€ä¾¿å®œçš„æ­£å“å•†å“ï¼Œ
    åŠ å…¥è´­ç‰©è½¦ï¼Œ
    ç„¶åè¿”å›è´­ç‰©è½¦é¡µé¢
  `,
});

if (result.success && result.completed) {
  console.log('ä»»åŠ¡æˆåŠŸå®Œæˆï¼');
  console.log('æ‰§è¡Œäº†', result.actions.length, 'ä¸ªæ­¥éª¤');

  // æŸ¥çœ‹æ‰§è¡Œæ­¥éª¤
  result.actions.forEach((action, index) => {
    console.log(`${index + 1}. ${action.action}`);
    console.log(`   æ¨ç†: ${action.reasoning}`);
  });
} else {
  console.log('ä»»åŠ¡å¤±è´¥:', result.message);
}

await mimo.close();
```

### æµå¼æ‰§è¡Œ

```typescript
await mimo.init();

const agent = mimo.agent({
  model: 'openai/gpt-4o-mini',
  maxSteps: 25,
});

// æµå¼æ‰§è¡Œï¼Œå®æ—¶è·å–è¿›åº¦
for await (const event of await agent.streamExecute({
  instruction: 'åœ¨çŸ¥ä¹æœç´¢ "äººå·¥æ™ºèƒ½"ï¼Œæ‰¾åˆ°ç‚¹èµæœ€é«˜çš„å›ç­”',
})) {
  switch (event.type) {
    case 'start':
      console.log('ä»»åŠ¡å¼€å§‹...');
      break;

    case 'step':
      console.log('æ­¥éª¤:', event.data.action);
      console.log('æ¨ç†:', event.data.reasoning);
      break;

    case 'finish':
      console.log('ä»»åŠ¡å®Œæˆ!');
      console.log('ç»“æœ:', event.data.result);
      break;

    case 'error':
      console.error('å‘ç”Ÿé”™è¯¯:', event.data.error);
      break;
  }
}

await mimo.close();
```

### è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯

```typescript
await mimo.init();

const agent = mimo.agent()
  .withSystemPrompt(`
    ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä»·æ ¼æ¯”è¾ƒåŠ©æ‰‹ã€‚
    ä½ çš„ä»»åŠ¡æ˜¯åœ¨å¤šä¸ªç”µå•†å¹³å°ä¸Šæœç´¢å•†å“ï¼Œ
    æ¯”è¾ƒä»·æ ¼ï¼Œå¹¶æ‰¾å‡ºæœ€ä¼˜æƒ çš„é€‰é¡¹ã€‚
    æ³¨æ„ï¼šåªé€‰æ‹©å®˜æ–¹æ——èˆ°åº—æˆ–è®¤è¯åº—é“ºçš„å•†å“ã€‚
  `)
  .withModel('openai/gpt-4o-mini');

const result = await agent.execute({
  instruction: 'æ¯”è¾ƒ iPhone 15 Pro åœ¨äº¬ä¸œã€å¤©çŒ«ã€è‹å®çš„ä»·æ ¼',
});

await mimo.close();
```

---

## è¡¨å•å¤„ç†

### ç™»å½•è¡¨å•

```typescript
await mimo.init();

await mimo.page.goto('https://example.com/login');

// æ–¹æ³•1: ä½¿ç”¨ act
await mimo.act('è¾“å…¥ç”¨æˆ·å "alice@example.com" å’Œå¯†ç  "password123"ï¼Œç„¶åç‚¹å‡»ç™»å½•æŒ‰é’®');

// æ–¹æ³•2: ç›´æ¥æ“ä½œ
await mimo.page.fill('#email', 'alice@example.com');
await mimo.page.fill('#password', 'password123');
await mimo.page.click('#login-button');

// ç­‰å¾…ç™»å½•å®Œæˆ
await mimo.act('ç­‰å¾…ç™»å½•å®Œæˆ');

await mimo.close();
```

### æ³¨å†Œè¡¨å•

```typescript
await mimo.init();

await mimo.page.goto('https://example.com/register');

// å¡«å†™æ³¨å†Œè¡¨å•
await mimo.page.fill('#username', 'alice');
await mimo.page.fill('#email', 'alice@example.com');
await mimo.page.fill('#password', 'SecurePass123!');
await mimo.page.fill('#confirm-password', 'SecurePass123!');

// é€‰æ‹©å›½å®¶
await mimo.page.select('#country', 'China');

// åŒæ„æ¡æ¬¾
await mimo.page.click('#terms-checkbox');

// æäº¤è¡¨å•
await mimo.page.click('#register-button');

await mimo.close();
```

### æœç´¢è¡¨å•

```typescript
await mimo.init();

await mimo.page.goto('https://example.com');

// å¡«å†™æœç´¢æ¡†å¹¶æäº¤
await mimo.page.fill('#search-input', 'iPhone 15');
await mimo.page.press('#search-input', 'Enter');

// æˆ–ç‚¹å‡»æœç´¢æŒ‰é’®
await mimo.page.click('#search-button');

// ç­‰å¾…æœç´¢ç»“æœ
await mimo.act('ç­‰å¾…æœç´¢ç»“æœåŠ è½½å®Œæˆ');

// æå–æœç´¢ç»“æœ
const results = await mimo.extract('è·å–å‰10ä¸ªæœç´¢ç»“æœçš„æ ‡é¢˜å’Œä»·æ ¼');

await mimo.close();
```

### æ–‡ä»¶ä¸Šä¼ 

```typescript
await mimo.init();

await mimo.page.goto('https://example.com/upload');

// ç‚¹å‡»ä¸Šä¼ æŒ‰é’®ï¼ˆä¼šè§¦å‘æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼‰
// æ³¨æ„ï¼šæ–‡ä»¶ä¸Šä¼ éœ€è¦åœ¨æ‰©å±•ç«¯å¤„ç†
await mimo.page.click('#upload-button');

// æˆ–è€…ä½¿ç”¨ act
await mimo.act('ä¸Šä¼ æ–‡ä»¶ /path/to/file.pdf');

await mimo.close();
```

---

## å¤šé¡µé¢æ“ä½œ

### ç®¡ç†æ ‡ç­¾é¡µ

```typescript
await mimo.init();

// æ‰“å¼€æ–°æ ‡ç­¾é¡µ
await mimo.page.goto('https://example.com/page1');

// è·å–æ‰€æœ‰æ ‡ç­¾é¡µ
const tabs = await mimo.getTabs();
console.log('å½“å‰æœ‰', tabs.length, 'ä¸ªæ ‡ç­¾é¡µ');

// åˆ‡æ¢åˆ°ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µ
if (tabs.length > 0) {
  await mimo.switchToTab(tabs[0].id);
}

// å…³é—­å½“å‰æ ‡ç­¾é¡µ
const activeTab = await mimo.getActiveTab();
await mimo.closeTab(activeTab.id);

await mimo.close();
```

### è·¨é¡µé¢æ“ä½œ

```typescript
await mimo.init();

// ç¬¬ä¸€ä¸ªé¡µé¢ï¼šæœç´¢å•†å“
await mimo.page.goto('https://example.com/search');
await mimo.page.fill('#search', 'iPhone 15');
await mimo.page.click('#search-button');

// æ‰“å¼€æ–°é¡µé¢ï¼ˆåœ¨æ–°æ ‡ç­¾é¡µä¸­ï¼‰
await mimo.page.evaluate(() => {
  window.open('https://competitor.com/search?q=iPhone+15', '_blank');
});

// ç­‰å¾…æ–°é¡µé¢åŠ è½½
const tabs = await mimo.getTabs();
if (tabs.length > 1) {
  // åˆ‡æ¢åˆ°æ–°é¡µé¢
  await mimo.switchToTab(tabs[1].id);

  // åœ¨æ–°é¡µé¢æ“ä½œ
  await mimo.act('è·å–ç¬¬ä¸€ä¸ªå•†å“çš„ä»·æ ¼');

  // åˆ‡æ¢å›åŸé¡µé¢
  await mimo.switchToTab(tabs[0].id);
}

await mimo.close();
```

### é¡µé¢é—´æ•°æ®ä¼ é€’

```typescript
await mimo.init();

// ä»ç¬¬ä¸€ä¸ªé¡µé¢æå–æ•°æ®
await mimo.page.goto('https://example.com/product');
const productInfo = await mimo.extract('è·å–å•†å“åç§°å’Œä»·æ ¼');

// åœ¨æ–°é¡µé¢ä½¿ç”¨è¿™äº›æ•°æ®
const query = `${productInfo.extraction.name} ${productInfo.extraction.price}`;
await mimo.page.goto(`https://search.example.com?q=${encodeURIComponent(query)}`);

// æ¯”è¾ƒä»·æ ¼
const competitorPrice = await mimo.extract('è·å–å•†å“ä»·æ ¼');
console.log('åŸä»·:', productInfo.extraction.price);
console.log('ç«å¯¹ä»·æ ¼:', competitorPrice.extraction);

await mimo.close();
```

---

## äº‹ä»¶å¤„ç†

### ç›‘å¬è¿æ¥äº‹ä»¶

```typescript
const mimo = new Mimo({ socket: { url: 'ws://localhost:3000' } });

// ç›‘å¬è¿æ¥äº‹ä»¶
mimo.on('connected', () => {
  console.log('âœ… Mimo å·²è¿æ¥');
});

mimo.on('disconnected', (data) => {
  console.log('âŒ Mimo å·²æ–­å¼€:', data);
});

await mimo.init();
await mimo.close();
```

### ç›‘å¬å‘½ä»¤äº‹ä»¶

```typescript
await mimo.init();

// ç›‘å¬å‘½ä»¤å‘é€
mimo.on('command.sent', (data) => {
  console.log('ğŸ“¤ å‘é€å‘½ä»¤:', data.type);
});

// ç›‘å¬å‘½ä»¤ç»“æœ
mimo.on('command.result', (data) => {
  console.log('ğŸ“¥ æ”¶åˆ°ç»“æœ:', data.success);
});

await mimo.act('ç‚¹å‡»æŒ‰é’®');
await mimo.close();
```

### ç›‘å¬æ ‡ç­¾é¡µäº‹ä»¶

```typescript
await mimo.init();

// ç›‘å¬æ ‡ç­¾é¡µå˜æ›´
mimo.on('tab.changed', (data) => {
  console.log('æ ‡ç­¾é¡µå·²å˜æ›´:', data.tabId);
});

// ç›‘å¬æ ‡ç­¾é¡µå…³é—­
mimo.on('tab.closed', (data) => {
  console.log('æ ‡ç­¾é¡µå·²å…³é—­:', data.tabId);
});

await mimo.page.goto('https://example.com');
await mimo.close();
```

### ç›‘å¬é”™è¯¯äº‹ä»¶

```typescript
await mimo.init();

// ç›‘å¬é”™è¯¯
mimo.on('error', (data) => {
  console.error('å‘ç”Ÿé”™è¯¯:', data.error);
  // å¯ä»¥åœ¨è¿™é‡Œå®ç°é”™è¯¯å¤„ç†é€»è¾‘
  // ä¾‹å¦‚ï¼šé‡è¯•ã€è®°å½•æ—¥å¿—ã€å‘é€é€šçŸ¥ç­‰
});

// æ‰§è¡Œå¯èƒ½å¤±è´¥çš„æ“ä½œ
try {
  await mimo.act('æ‰§è¡ŒæŸä¸ªæ“ä½œ');
} catch (error) {
  console.error('æ•è·åˆ°é”™è¯¯:', error);
}

await mimo.close();
```

---

## é”™è¯¯å¤„ç†

### åŸºç¡€é”™è¯¯å¤„ç†

```typescript
import {
  MimoInitError,
  MimoTimeoutError,
  MimoNotConnectedError,
  MimoCommandError,
} from '@mimo/lib/core';

const mimo = new Mimo({ socket: { url: 'ws://localhost:3000' } });

try {
  await mimo.init();
  await mimo.act('æ‰§è¡Œæ“ä½œ');
} catch (error) {
  if (error instanceof MimoInitError) {
    console.error('åˆå§‹åŒ–å¤±è´¥:', error.message);
  } else if (error instanceof MimoTimeoutError) {
    console.error('æ“ä½œè¶…æ—¶:', error.timeout);
  } else if (error instanceof MimoNotConnectedError) {
    console.error('æœªè¿æ¥åˆ°æœåŠ¡å™¨');
  } else if (error instanceof MimoCommandError) {
    console.error('å‘½ä»¤æ‰§è¡Œå¤±è´¥:', error.message);
  } else {
    console.error('æœªçŸ¥é”™è¯¯:', error);
  }
} finally {
  await mimo.close({ force: true });
}
```

### é‡è¯•æœºåˆ¶

```typescript
async function actWithRetry(
  mimo: Mimo,
  action: string,
  maxRetries = 3
) {
  for (let i = 0; i < maxRetries; i++) {
    try {
      const result = await mimo.act(action);
      if (result.success) {
        return result;
      }
    } catch (error) {
      console.log(`å°è¯• ${i + 1}/${maxRetries} å¤±è´¥:`, error);
      if (i === maxRetries - 1) {
        throw error;
      }
      // ç­‰å¾…åé‡è¯•
      await new Promise(resolve => setTimeout(resolve, 1000));
    }
  }
}

// ä½¿ç”¨
await mimo.init();
await actWithRetry(mimo, 'ç‚¹å‡»ç™»å½•æŒ‰é’®');
await mimo.close();
```

### è¶…æ—¶å¤„ç†

```typescript
async function actWithTimeout(
  mimo: Mimo,
  action: string,
  timeout: number
) {
  const controller = new AbortController();
  const timeoutId = setTimeout(() => controller.abort(), timeout);

  try {
    const result = await mimo.act(action);
    clearTimeout(timeoutId);
    return result;
  } catch (error) {
    clearTimeout(timeoutId);
    if (error.name === 'AbortError') {
      throw new Error(`æ“ä½œè¶…æ—¶: ${timeout}ms`);
    }
    throw error;
  }
}

// ä½¿ç”¨
await mimo.init();
try {
  await actWithTimeout(mimo, 'ç‚¹å‡»æŒ‰é’®', 5000);
} catch (error) {
  console.error(error.message);
}
await mimo.close();
```

---

## å®é™…åº”ç”¨åœºæ™¯

### ä»·æ ¼ç›‘æ§

```typescript
async function monitorPrice() {
  const mimo = new Mimo({ socket: { url: 'ws://localhost:3000' } });

  try {
    await mimo.init();
    await mimo.page.goto('https://example.com/product/123');

    const price = await mimo.extract('è·å–å•†å“ä»·æ ¼');
    const priceNumber = parseFloat(price.extraction.replace(/[Â¥$,]/g, ''));

    console.log('å½“å‰ä»·æ ¼:', priceNumber);

    if (priceNumber < 1000) {
      console.log('ä»·æ ¼ä½äº 1000ï¼Œå‘é€é€šçŸ¥ï¼');
      // å‘é€é€šçŸ¥é€»è¾‘
    }

    await mimo.close();
  } catch (error) {
    console.error('ä»·æ ¼ç›‘æ§å¤±è´¥:', error);
    await mimo.close({ force: true });
  }
}

// å®šæ—¶æ‰§è¡Œ
setInterval(monitorPrice, 60000); // æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
```

### è‡ªåŠ¨åŒ–æµ‹è¯•

```typescript
async function testLoginFlow() {
  const mimo = new Mimo({ socket: { url: 'ws://localhost:3000' } });

  try {
    await mimo.init();

    // æµ‹è¯•ç”¨ä¾‹1: æ­£å¸¸ç™»å½•
    console.log('æµ‹è¯•ç”¨ä¾‹1: æ­£å¸¸ç™»å½•');
    await mimo.page.goto('https://example.com/login');
    await mimo.page.fill('#username', 'test@example.com');
    await mimo.page.fill('#password', 'password123');
    await mimo.page.click('#login-button');

    const isLoggedIn = await mimo.page.evaluate(() => {
      return document.querySelector('.user-avatar') !== null;
    });

    if (isLoggedIn) {
      console.log('âœ… æµ‹è¯•ç”¨ä¾‹1 é€šè¿‡');
    } else {
      console.log('âŒ æµ‹è¯•ç”¨ä¾‹1 å¤±è´¥');
    }

    // æµ‹è¯•ç”¨ä¾‹2: é”™è¯¯å¯†ç 
    console.log('æµ‹è¯•ç”¨ä¾‹2: é”™è¯¯å¯†ç ');
    await mimo.page.goto('https://example.com/login');
    await mimo.page.fill('#username', 'test@example.com');
    await mimo.page.fill('#password', 'wrongpassword');
    await mimo.page.click('#login-button');

    const errorMessage = await mimo.page.evaluate(() => {
      const el = document.querySelector('.error-message');
      return el ? el.textContent : null;
    });

    if (errorMessage && errorMessage.includes('å¯†ç é”™è¯¯')) {
      console.log('âœ… æµ‹è¯•ç”¨ä¾‹2 é€šè¿‡');
    } else {
      console.log('âŒ æµ‹è¯•ç”¨ä¾‹2 å¤±è´¥');
    }

    await mimo.close();
  } catch (error) {
    console.error('æµ‹è¯•å¤±è´¥:', error);
    await mimo.close({ force: true });
  }
}
```

### æ•°æ®é‡‡é›†

```typescript
async function scrapeProducts(url: string) {
  const mimo = new Mimo({ socket: { url: 'ws://localhost:3000' } });

  try {
    await mimo.init();
    await mimo.page.goto(url);

    // æå–æ‰€æœ‰äº§å“ä¿¡æ¯
    const products = await mimo.extract(`
      è·å–é¡µé¢ä¸Šçš„æ‰€æœ‰äº§å“ä¿¡æ¯ï¼Œ
      åŒ…æ‹¬äº§å“åç§°ã€ä»·æ ¼ã€è¯„åˆ†ã€é“¾æ¥
    `);

    console.log('é‡‡é›†åˆ°', products.extraction.length, 'ä¸ªäº§å“');

    // ä¿å­˜åˆ°æ•°æ®åº“
    for (const product of products.extraction) {
      await saveToDatabase(product);
    }

    await mimo.close();
  } catch (error) {
    console.error('æ•°æ®é‡‡é›†å¤±è´¥:', error);
    await mimo.close({ force: true });
  }
}
```

### è‡ªåŠ¨åŒ–æŠ¥è¡¨

```typescript
async function generateDailyReport() {
  const mimo = new Mimo({ socket: { url: 'ws://localhost:3000' } });

  try {
    await mimo.init();

    // ç™»å½•åå°
    await mimo.page.goto('https://admin.example.com/login');
    await mimo.page.fill('#username', 'admin');
    await mimo.page.fill('#password', 'admin123');
    await mimo.page.click('#login-button');

    // å¯¼èˆªåˆ°æŠ¥è¡¨é¡µé¢
    await mimo.page.goto('https://admin.example.com/reports/daily');

    // è®¾ç½®æ—¥æœŸèŒƒå›´
    await mimo.page.fill('#date-from', '2024-01-01');
    await mimo.page.fill('#date-to', '2024-01-31');
    await mimo.page.click('#generate-report');

    // ç­‰å¾…æŠ¥è¡¨ç”Ÿæˆ
    await mimo.act('ç­‰å¾…æŠ¥è¡¨ç”Ÿæˆå®Œæˆ');

    // ä¸‹è½½æŠ¥è¡¨
    await mimo.page.click('#download-report');

    console.log('æ—¥æŠ¥å·²ç”Ÿæˆå¹¶ä¸‹è½½');

    await mimo.close();
  } catch (error) {
    console.error('æŠ¥è¡¨ç”Ÿæˆå¤±è´¥:', error);
    await mimo.close({ force: true });
  }
}
```

---

## ä¸‹ä¸€æ­¥

- å›é¡¾ [å¿«é€Ÿå¼€å§‹](./00-å¿«é€Ÿå¼€å§‹.md) äº†è§£åŸºç¡€ç”¨æ³•
- æ·±å…¥ [æ ¸å¿ƒæ¦‚å¿µ](./01-æ ¸å¿ƒæ¦‚å¿µ.md) ç†è§£æ¶æ„
- æŸ¥çœ‹ [API å‚è€ƒ](./02-APIå‚è€ƒ.md) äº†è§£å®Œæ•´ API
